# ==========================================
#        Little Eighteen 配置文件
# ==========================================

# --- 硬件 GPIO 定义 (BCM 编码) ---
# 方向引脚 (L298N IN1-IN8)
GPIO_IN1=18
GPIO_IN2=23
GPIO_IN3=24
GPIO_IN4=25
GPIO_IN5=12
GPIO_IN6=16
GPIO_IN7=20
GPIO_IN8=21

# 调速引脚 (L298N EN1-EN4)
# 根据之前的测试结果: LF=6, LB=13, RB=19, RF=26
GPIO_EN1=6
GPIO_EN2=13
GPIO_EN3=19
GPIO_EN4=26

# 超声波传感器
HC_SR04_TRIG=4
HC_SR04_ECHO=17

# --- 电机与运动参数 ---
# PWM 频率 (Hz)
PWM_FREQ=100

# 默认速度 (0-100)
DEFAULT_SPEED=50

# 最低启动速度 (防止电机嗡嗡响不转)
MIN_SPEED_LIMIT=20

# 动态避障参数
# 停车阈值 = 基础距离 + (当前速度 * 系数)
OBSTACLE_BASE_DISTANCE=10
OBSTACLE_SPEED_FACTOR=0.4

# 走直线微调系数 (0.0 - 1.0)
# 如果车往左偏，说明右边快了，调小 RF/RB
CORRECTION_LF=1.0
CORRECTION_LB=1.0
CORRECTION_RF=1.0
CORRECTION_RB=1.0

# --- 摄像头配置 ---
CAMERA_INDEX=0
CAMERA_FPS=30
CAMERA_WIDTH=640
CAMERA_HEIGHT=480

# --- Web 服务配置 ---
APP_HOST=0.0.0.0
APP_PORT=8000
LOG_LEVEL=INFO

# --- 🤖 智能体配置 (LLM Agent) ---
# 你的 API Key (OpenAI / DeepSeek / 通义千问)
LLM_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# API 基础地址 (例如 DeepSeek: https://api.deepseek.com)
LLM_BASE_URL=https://api.deepseek.com
# 使用的模型名称
LLM_MODEL_NAME=deepseek-chat

PICOVOICE_ACCESS_KEY=

# --- 语音识别优化参数 ---
# Rhino 灵敏度 (0.0 - 1.0)，越高越敏感但更容易误触发
RHINO_SENSITIVITY=0.5
# 说话结束检测时间（秒），越短响应越快但可能中断说话
# 建议: 0.3-0.5（快速响应），0.8-1.0（更准确）
RHINO_ENDPOINT_DURATION=0.5
# 是否需要检测到明确的说话结束（true 延迟更高但更准确，false 响应更快）
RHINO_REQUIRE_ENDPOINT=true

# --- VAD（语音活动检测）配置 ---
# 是否启用 VAD 进行人声检测（需要安装 webrtcvad）
VAD_ENABLED=true
# VAD 敏感度 (0-3)
# 0: 最敏感（容易误触发）
# 1: 较敏感
# 2: 中等（推荐，适合大多数场景）
# 3: 最不敏感（需要大声说话，适合噪音环境）
VAD_AGGRESSIVENESS=2
# VAD 帧长度（毫秒），支持 10, 20, 30
VAD_FRAME_DURATION=30
# 最小语音长度（毫秒），短于此长度认为是噪音
VAD_MIN_SPEECH_DURATION=300
# 最小静音长度（毫秒），检测到静音多久后认为说话结束
VAD_MIN_SILENCE_DURATION=500

# --- 语音诊断配置 ---
# 是否启用语音诊断（启动时测量背景噪音）
VOICE_DIAGNOSTICS_ENABLED=false
# 噪音阈值（分贝），高于此值认为是噪音环境
NOISE_THRESHOLD_DB=50.0

# --- ASR 服务器配置 ---
# 在线语音识别服务地址 (可选)
ASR_SERVER_URL=ws://192.168.31.157:10096

# --- 网络配置 ---
# 网络检测等待时间（秒）
NETWORK_WAIT_SECONDS=15